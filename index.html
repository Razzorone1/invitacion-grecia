<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
<title>Invitaci√≥n de Grecia ‚Äî Minecraft</title>
<style>
  :root{ --btn:#22c55e; --btnh:#16a34a; --blue:#3b82f6; --blueh:#2563eb; --lime:#7bd23c; --grass:#3fa731; }
  *{box-sizing:border-box}
  html,body{margin:0;height:100%}
  body{display:grid;place-items:center;background:#0b0f17;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;color:#fff}

  /* Marco principal */
  .scene{
    width:min(92vw,780px); aspect-ratio:636/900;
    position:relative; border-radius:14px; overflow:hidden;
    box-shadow:0 20px 60px rgba(0,0,0,.45); background:#000;
    isolation:isolate;
  }
  /* Fondo */
  .bg{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; object-position:center; z-index:0; pointer-events:none;}

  /* Contenido centrado dentro del recuadro caf√© */
  .content{
    position:absolute; top:44.5%; left:9%; right:9%; bottom:10.5%;
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    text-align:center; padding:10px; gap:12px; z-index:3;
  }
  @media (max-width:430px){ .content{ top:46.5%; left:9.5%; right:9.5%; bottom:12%; } }

  /* Chips del nombre/edad */
  .chip{border-radius:12px;padding:8px 14px;box-shadow:0 6px 0 #2a6b22,0 10px 18px rgba(0,0,0,.35)}
  .name{font-weight:900;font-size:clamp(26px,7.2vw,56px);background:linear-gradient(180deg,var(--lime),var(--grass));color:#fff}
  .age{font-weight:800;font-size:clamp(15px,4.6vw,26px);background:linear-gradient(180deg,#6366f1,#3b82f6);color:#fff;box-shadow:0 4px 0 #213b7a,0 10px 16px rgba(0,0,0,.25)}

  /* Animaci√≥n por letra + t√≠tulo arco√≠ris */
  .per-letter .ch{display:inline-block;white-space:pre}
  .title-anim .ch{
    background:linear-gradient(90deg,#ff6b6b,#ffd166,#06d6a0,#118ab2,#a78bfa,#ff6b6b);
    background-size:600% 100%;
    -webkit-background-clip:text;background-clip:text;color:transparent;
    animation: colorShift 8s linear infinite, wave 2.6s ease-in-out infinite;
    animation-delay: 0s, calc(var(--i)*110ms);
    text-shadow:0 0 10px rgba(0,0,0,.15);
  }
  @keyframes wave{0%,100%{transform:translateY(0)}50%{transform:translateY(-3px)}}
  @keyframes colorShift{from{background-position:0% 50%}to{background-position:100% 50%}}
  @media (prefers-reduced-motion:reduce){ .title-anim .ch{animation:none} }

  h1{margin:.15em 0 .05em; font-size:clamp(22px,5.2vw,40px); letter-spacing:.6px; font-weight:900}
  h2{margin:0 0 .35em; font-size:clamp(18px,3.8vw,28px);
     background:linear-gradient(90deg,#fff,#d6fff8,#fff); -webkit-background-clip:text;background-clip:text;color:transparent}
  .info{font-size:clamp(15px,3.1vw,19px); line-height:1.35}

  .btns{display:flex;flex-wrap:wrap;gap:10px;justify-content:center}
  .btn{
    appearance:none;border:0;border-radius:12px;padding:12px 16px;font-weight:700;color:#fff;
    background:var(--btn);text-decoration:none;display:inline-flex;align-items:center;gap:8px;
    cursor:pointer;transition:transform .15s ease, background .2s ease, box-shadow .2s ease;
    box-shadow:0 8px 18px rgba(0,0,0,.25); font-size:clamp(14px,2.6vw,16px)
  }
  .btn:hover{background:var(--btnh);transform:translateY(-2px)}

  /* Barra/bot√≥n de m√∫sica + overlay para primer toque */
  #musicBar{position:absolute;left:0;right:0;bottom:10px;display:none;justify-content:center;z-index:6}
  #musicBar .btn{background:var(--blue)} #musicBar .btn:hover{background:var(--blueh)}

  .tap-overlay{
    position:absolute; inset:0; z-index:7; display:flex; align-items:center; justify-content:center;
    background:rgba(0,0,0,.25); backdrop-filter:blur(1px);
    font-weight:700; letter-spacing:.3px; text-align:center; padding:16px; cursor:pointer;
  }
  .tap-badge{background:#2563eb;color:#fff;padding:10px 14px;border-radius:12px;box-shadow:0 8px 18px rgba(0,0,0,.25)}
  .tap-overlay.hide{display:none}
</style>
</head>
<body>
  <div class="scene" role="img" aria-label="Invitaci√≥n tem√°tica Minecraft">
    <!-- Fondo (puedes cambiar por tu imagen local, p.ej. ./plantilla.jpg) -->
    <img class="bg"
         src="https://drive.google.com/thumbnail?id=1ImdQCYxQzGx1a9RED9PQCGjlqWvv9KUq&sz=w2000"
         alt="Plantilla Minecraft">

    <!-- Overlay: cualquier toque activa la m√∫sica -->
    <div id="tapOverlay" class="tap-overlay">
      <div class="tap-badge">üîä Toca para activar la m√∫sica</div>
    </div>

    <!-- Contenido dentro del caf√© -->
    <div class="content" aria-live="polite">
      <div class="chip name per-letter">Grecia</div>
      <div class="chip age per-letter">Cumplea√±os</div>
      <div class="chip age per-letter" style="margin-top:4px">7</div>

      <h1 class="per-letter title-anim">¬°Acomp√°√±anos a celebrar!</h1>

      <h2 class="per-letter">El cumplea√±os de Grecia üéÇ</h2>

      <div class="info">
        üìÖ <strong>8 de noviembre</strong><br/>
        üïì <strong>4:00‚Äì8:00 p.m.</strong><br/>
        üìç <strong>Pinocchio Sal√≥n de Fiestas Infantiles</strong>
      </div>

      <div class="btns">
        <a class="btn" href="https://maps.app.goo.gl/VBHEYq9buCPKmp9m6" target="_blank" rel="noopener">üìç Ver ubicaci√≥n</a>
        <a class="btn" href="https://wa.me/526143811528?text=Confirmo%20mi%20asistencia%20al%20cumplea%C3%B1os%20de%20Grecia%20üéâ" target="_blank" rel="noopener">‚úÖ Confirmar asistencia</a>
      </div>

      <p style="font-size:12px;opacity:.85;margin-top:6px">Si no se oye, usa el bot√≥n de abajo.</p>
    </div>

    <!-- AUDIO local (tu archivo es minecraft.mpeg en la MISMA carpeta que index.html) -->
    <audio id="bgm" loop playsinline preload="auto" muted>
      <source src="minecraft.mpeg" type="audio/mpeg">
      <!-- Si alg√∫n d√≠a lo renombras: <source src="minecraft.mp3" type="audio/mpeg"> -->
    </audio>

    <div id="musicBar"><button class="btn" id="playBtn">üîä Activar m√∫sica</button></div>
  </div>

<script>
  /* Texto por letras (conserva espacios) */
  function splitLetters(el){
    const t = el.textContent; el.textContent='';
    [...t].forEach((ch,i)=>{
      const s=document.createElement('span');
      s.className='ch'; s.style.setProperty('--i',i);
      s.textContent = (ch===' ')? '\u00A0' : ch;
      el.appendChild(s);
    });
  }
  document.querySelectorAll('.per-letter').forEach(splitLetters);

  const audio = document.getElementById('bgm');
  const bar   = document.getElementById('musicBar');
  const btn   = document.getElementById('playBtn');
  const tapOverlay = document.getElementById('tapOverlay');

  // Intento de autoplay en silencio; si no se puede, mostramos controles
  window.addEventListener('load', async ()=>{
    try{
      audio.muted = true;
      await audio.play();               // algunos navegadores lo permiten en mute
      setTimeout(()=> audio.muted=false, 150);
      bar.style.display='none';
      tapOverlay.classList.add('hide');
    }catch{
      bar.style.display='flex';         // mostramos bot√≥n si fue bloqueado
    }
  });

  async function startSound(){
    try{
      // algunos navegadores requieren reanudar un contexto de audio
      if(window.AudioContext || window.webkitAudioContext){
        const AC = window.AudioContext || window.webkitAudioContext;
        const ctx = new AC();
        await ctx.resume().catch(()=>{});
      }
      audio.muted=false;
      await audio.play();
      bar.style.display='none';
      tapOverlay.classList.add('hide');
      detachFirstGesture();
    }catch(e){
      bar.style.display='flex';
    }
  }

  function attachFirstGesture(){
    ['pointerdown','touchstart','click','keydown'].forEach(ev=>{
      document.addEventListener(ev, startSound, {once:true, passive:true});
    });
  }
  function detachFirstGesture(){
    ['pointerdown','touchstart','click','keydown'].forEach(ev=>{
      document.removeEventListener(ev, startSound, {passive:true});
    });
  }
  attachFirstGesture();

  tapOverlay.addEventListener('click', startSound);
  btn.addEventListener('click', startSound);

  // Si el usuario vuelve a la pesta√±a y estaba sonando, reintenta play
  document.addEventListener('visibilitychange', ()=>{
    if(!document.hidden && audio.paused===false){
      audio.play().catch(()=>{});
    }
  });
</script>
</body>
</html>
